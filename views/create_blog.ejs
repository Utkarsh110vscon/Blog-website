
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogs</title>

    <!-- font-awesome css file for icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Albert Sans Font Family -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/styles/create_blog.css">
</head>
<body>

    <div class="header">
        <div class="nav-content">
            <ul class="left-section nav">
                <li class="title"><a class="text-clr" href="/">blogwrite</a></li>
                <li class="nav-items"><a class="text-clr" href="/">home</a></li>
                <li class="nav-items"><a class="text-clr" href="/blogs">blogs</a></li>
            </ul>
    
            <ul class="right-section nav">
                <li><a href="https://www.linkedin.com/in/utkarsh-kumar-a78a38253/" target="_blank"><i class="fa fa-linkedin-square text-clr"></i></a></li>
                <li><a href="https://twitter.com/uktech62071" target="_blank"><i class="fa fa-twitter-square text-clr"></i></a></li>
                <li><a href="https://github.com/Utkarsh110vscon" target="_blank"><i class="fa fa-github text-clr"></i></a></li>
                <li class="capital"><a href="/createBlog"><i class='fas fa-edit text-clr'></i> <span class="nav-items text-clr">create blog</span></a></li>
                <li class="nav-items"><a class="text-clr" href="#"><i class="fa fa-gear"></i> setting</a></li>
            </ul>
        </div>
    </div>
    <hr style="opacity: 0.5;"/>

    <% if(locals.post_data) {%>
        <div>
            <form id="myForm" action="/posts/update/<%= post_data.id %>" method="post">
                <div class="form-contanier">
                    <div class="left-form">
                        <div class="form-title">
                            <h1 class="editable" role="textbox" contenteditable="true"><span> <%= post_data.title %> </span></h1>
                        </div>
                        <div class="content-block">
                            <p class="editable-para" contenteditable="true"><span> <%= post_data.content %> </span></p>
                        </div>
                    </div>
                    
                    <div class="right-form">
                        <hr width="1" size="10000" style="opacity: 0.5; position: absolute; right: 100%;" >
    
                        <h2 class="form_text-heading">Blog details</h2>
    
                        <label for="author">AUTHOR:</label>
                        <input type="text" name="author" id="author" value="<%= post_data.author %>" required>
        
                        <label for="time">DATE:</label>
                        <input type="datetime" name="time" id="time" value="<%= post_data.date %>" required>
        
                        <label for="tag">GENRE:</label>
                        <input type="text" name="tag" id="tag">
    
                        <!--hidden input element-->
                        <input type="hidden" id="hiddenHeading" name="blogTitle" value="">
                        <input type="hidden" id="hiddenpara" name="blogContent" value="">
    
                        <input type="submit" value="Update" class="submit-btn" style="color: #fff; cursor: pointer;">
                    </div>
                </div>
            </form>
        </div>
     <script> 
        document.querySelector(".submit-btn").addEventListener("click",function(){
            const heading = document.querySelector(".editable").innerText;
            const para =document.querySelector(".editable-para").innerText;

            document.getElementById("hiddenHeading").value=heading;
            document.getElementById("hiddenpara").value=para;
        });
    </script> 

    <% }else{ %>
        <div>
            <form id="myForm" action="/createBlog/posts" method="post">
                <div class="form-contanier">
                    <div class="left-form">
                        <div class="form-title">
                            <h1 class="editable" role="textbox"><span class="placeholder_title">Add title</span></h1>
                        </div>
                        <div class="content-block">
                            <p class="editable-para"><span class="placeholder_content">Write Blog.....</span></p>
                        </div>
                    </div>
                    
                    <div class="right-form">
                        <hr width="1" size="10000" style="opacity: 0.5; position: absolute; right: 100%;" >
    
                        <h2 class="form_text-heading">Blog details</h2>
    
                        <label for="author">AUTHOR:</label>
                        <input type="text" name="author" id="author" required>
        
                        <label for="time">DATE:</label>
                        <input type="datetime" name="time" id="time" required>
        
                        <label for="tag">GENRE:</label>
                        <input type="text" name="tag" id="tag">
    
                        <!--hidden input element-->
                        <input type="hidden" id="hiddenHeading" name="blogTitle" value="">
                        <input type="hidden" id="hiddenpara" name="blogContent" value="">
    
                        <input type="submit" value="Publish" class="submit-btn" disabled>
                    </div>
                </div>
            </form>
        </div>
        <script src="/js/create-blogs.js"></script>
    <% } %>
    
</body>
</html>