<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- font-awesome css file for icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Albert Sans Font Family -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/styles/blog.css">
</head>
<body>

    <div class="header">
        <div class="nav-content">
            <ul class="left-section nav">
                <li class="title capital"><a class="text-clr" href="/">blogwrite</a></li>
                <li class="nav-items capital"><a class="text-clr" href="/">home</a></li>
                <li class="nav-items capital"><a class="text-clr" href="/blogs">blogs</a></li>
            </ul>
    
            <ul class="right-section nav">
                <li><a href="https://www.linkedin.com/in/utkarsh-kumar-a78a38253/" target="_blank"><i class="fa fa-linkedin-square text-clr"></i></a></li>
                <li><a href="https://twitter.com/uktech62071" target="_blank"><i class="fa fa-twitter-square text-clr"></i></a></li>
                <li><a href="https://github.com/Utkarsh110vscon" target="_blank"><i class="fa fa-github text-clr"></i></a></li>
                <li class="capital"><a href="/createBlog"><i class='fas fa-edit text-clr'></i> <span class="nav-items text-clr">create blog</span></a></li>
                <!-- <li class="nav-items capital"><a class="text-clr" href="#"><i class="fa fa-gear"></i> setting</a></li> -->
            </ul>
        </div>
    </div>
    
    <div class="container">
        <h1>My Blog</h1>
        <a id="newPostBtn" href="/createBlog">New Post</a>
        <ul id="postsList">
          <% post.forEach(ele=> { %>
            <% if(ele){ %>
              <li class="content-list hide">
                <h2>
                  <%=ele.title%>
                </h2>
                <small>
                  <%=ele.date %>
                </small>
                <p>
                  <%=ele.content%>
                </p>
                <small>By: <%=ele.author%> </small>
                <a class="edit btn" href="/edit/<%= ele.id %>">Edit</a>
                <a class="delete btn" href="/api/posts/delete/<%= ele.id %>">Delete</a>
              </li>
            <% } %>
            <% }); %>
        </ul>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const options = {
            threshold: 0.1
        };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('show');
                } else {
                    entry.target.classList.remove('show');
                }
            });
        }, options);

        const elements = document.querySelectorAll("li");

        elements.forEach((section) => {
         observer.observe(section);
        });
    });

    </script>
</body>
</html>